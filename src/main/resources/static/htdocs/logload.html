<!DOCTYPE html>
<!--[if IE 8]> <html lang="en" class="ie8"> <![endif]-->
<!--[if IE 9]> <html lang="en" class="ie9"> <![endif]-->
<!--[if !IE]><!-->
<html lang="en">
<!--<![endif]-->

<head>
    <title>log</title>
    <!-- Meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <!-- <meta http-equiv="refresh" content="1"> -->
    <!-- <link rel="shortcut icon" href="favicon.ico">   -->


    <style type="text/css">
        body {
            background-color: #282828;
            font-family: Arial, Helvetica, sans-serif;
            color: #b0b0b0;
            font-size: 15px;
        }
        
        a {
            color: #b0b0b0;
        }
        
        .container-basic {
            background-color: #424242;
            padding: 0.2em 0.5em;
            border-radius: 1px;
        }
        
        .dataframe {
            fill: none;
            stroke: #424242;
            stroke-width: 0.5px
        }
        
        .textNormal {
            color: #b0b0b0;
        }
        
        .textHell {
            color: #f0f0f0;
        }
        
        .LogFinder {
            border-radius: 8px;
            margin: auto;
            height: 500px;
            width: 500px;
            position: fixed;
            top: 0;
            bottom: 0;
            left: 0;
            right: 0;
            text-align: center;
            align: center;
        }
        
        .button {
            background-color: #424242;
            border-radius: 50px;
            -moz-border-radius: 50px;
            -webkit-border-radius: 50px;
            margin: 10px;
            padding: 10px 20px;
        }
        
        .mainbutton {
            font-size: 20px;
            border: 3px solid #f0f0f0;
            color: #f0f0f0;
        }
        
        .mainbuttondis {
            font-size: 20px;
            border: 3px solid #535353;
            color: #535353;
        }
        
        .notsomainbutton {
            font-size: 15px;
            border: 1px solid #f0f0f0;
            color: #f0f0f0;
        }
        
        .mainbutton:active {
            background-color: #f0f0f0;
            color: #424242;
        }
        
        .notsomainbutton:active {
            background-color: #f0f0f0;
            color: #424242;
        }
    </style>

</head>

<body>


    <div class="container-basic LogFinder">
        <svg style='margin: 10px' x='0' y='0' width='255' height='60'>
                <style type="text/css">
                    .st0{fill:#3c753a;}
                    .st1{fill:#FFFFFF;}
                    .st2{fill:none;stroke:#424242;stroke-miterlimit:10;}
                    .st3{fill:#1D1D1B;}
                  </style>
                <g id="Logo" transform='scale(1)'>
                        <g>
                          <g>
                            <polygon class="st1" points="227.2,59.8 209.6,49.1 209.6,28.5 227.2,39.2 			"/>
                          </g>
                          <g>
                            <polygon class="st1" points="233.1,60 250.6,49.3 250.6,28.7 233.1,39.4 			"/>
                          </g>
                          <g>
                            <polygon class="st1" points="233.4,16 233.4,24.2 226.8,24.2 226.8,16.1 211.8,24.2 230.1,34.2 248.4,24.2 			"/>
                          </g>
                        </g>
                        <g>
                          <g>
                            <path class="st1" d="M46.9,47.3l-1-2.9H35.5l-1,2.9c-0.3,1-0.7,1.9-0.9,2.8h-6.2l2.8-7.9l2.6-6.9l2.5-6.1
                              c0.8-1.9,1.7-3.8,2.6-5.6h5.7l2.6,5.6l2.5,6.1l2.6,6.9l2.8,7.9h-6.4C47.5,49.2,47.2,48.3,46.9,47.3z M40.1,31.2l-0.9,2.3
                              l-1.1,2.9l-1.2,3.3h7.5l-1.2-3.3l-1.1-2.9l-0.9-2.3l-0.6-1.6C40.5,30,40.3,30.5,40.1,31.2z"/>
                          </g>
                          <g>
                            <path class="st1" d="M60.3,29.9c1.5-0.2,3.1-0.4,4.8-0.4c1.7,0,3.1,0.2,4.3,0.7c1.1,0.4,2,1.1,2.7,1.9c0.7,0.8,1.1,1.8,1.4,2.9
                              c0.3,1.1,0.4,2.4,0.4,3.8v11.4h-5.7V39.5c0-1.8-0.2-3.1-0.7-3.9c-0.5-0.8-1.4-1.1-2.7-1.1c-0.4,0-0.8,0-1.3,0.1
                              c-0.5,0-0.9,0.1-1.2,0.1v15.5h-5.7V30.7C57.5,30.4,58.7,30.2,60.3,29.9z"/>
                          </g>
                          <g>
                            <path class="st1" d="M81.3,29.9c1.5-0.2,3.1-0.4,4.8-0.4c1.7,0,3.1,0.2,4.3,0.7c1.1,0.4,2,1.1,2.7,1.9c0.7,0.8,1.1,1.8,1.4,2.9
                              c0.3,1.1,0.4,2.4,0.4,3.8v11.4h-5.7V39.5c0-1.8-0.2-3.1-0.7-3.9c-0.5-0.8-1.4-1.1-2.7-1.1c-0.4,0-0.8,0-1.3,0.1
                              c-0.5,0-0.9,0.1-1.2,0.1v15.5h-5.7V30.7C78.5,30.4,79.8,30.2,81.3,29.9z"/>
                          </g>
                          <g>
                            <path class="st1" d="M104.6,26.7c-0.7,0.6-1.5,0.9-2.4,0.9c-0.9,0-1.7-0.3-2.4-0.9c-0.7-0.6-1-1.4-1-2.5c0-1,0.3-1.9,1-2.5
                              c0.7-0.6,1.5-0.9,2.4-0.9c0.9,0,1.7,0.3,2.4,0.9c0.7,0.6,1,1.4,1,2.5C105.6,25.3,105.2,26.1,104.6,26.7z M99.3,50.2V30h5.7v20.1
                              H99.3z"/>
                          </g>
                          <g>
                            <path class="st1" d="M113.6,50c-1-0.3-1.9-0.8-2.5-1.4s-1-1.3-1.2-2.2c-0.2-0.9-0.3-1.8-0.3-2.9V21.4l5.7-0.9v21.9
                              c0,0.5,0,1,0.1,1.4c0.1,0.4,0.2,0.8,0.4,1c0.2,0.3,0.5,0.5,0.9,0.7c0.4,0.2,1,0.3,1.6,0.3l-0.8,4.7C116,50.5,114.7,50.3,113.6,50
                              z"/>
                          </g>
                          <g>
                            <path class="st1" d="M135.6,40.9c-1.3,3.4-2.6,6.7-4.1,9.9c-0.5,1.1-1.1,2.1-1.6,2.9c-0.5,0.8-1.1,1.5-1.8,2
                              c-0.6,0.5-1.4,0.9-2.2,1.1c-0.8,0.2-1.7,0.4-2.8,0.4c-0.9,0-1.7-0.1-2.5-0.2c-0.8-0.2-1.4-0.4-1.9-0.6l1-4.6
                              c0.6,0.2,1.1,0.3,1.6,0.4c0.5,0.1,0.9,0.1,1.5,0.1c1,0,1.8-0.3,2.4-0.8c0.5-0.5,1-1.3,1.4-2.3c-1.3-2.6-2.6-5.4-3.9-8.6
                              c-1.3-3.2-2.5-6.7-3.7-10.7h6.1c0.3,1,0.6,2.1,0.9,3.2l1.1,3.5l1.2,3.5c0.4,1.1,0.8,2.1,1.1,3.1c0.3-0.9,0.7-1.9,1-3.1l1.1-3.5
                              l1-3.5l0.9-3.2h5.9C138.1,33.9,136.9,37.5,135.6,40.9z"/>
                          </g>
                          <g>
                            <path class="st1" d="M149.5,45.8c0.4-0.2,0.7-0.6,0.7-1.2c0-0.5-0.3-0.9-0.8-1.2c-0.6-0.3-1.4-0.7-2.6-1.2
                              c-0.9-0.3-1.7-0.7-2.4-1c-0.7-0.4-1.3-0.8-1.9-1.3c-0.5-0.5-0.9-1.1-1.2-1.8c-0.3-0.7-0.4-1.5-0.4-2.5c0-1.9,0.7-3.4,2.1-4.5
                              c1.4-1.1,3.3-1.6,5.8-1.6c1.2,0,2.4,0.1,3.5,0.3c1.1,0.2,2,0.5,2.7,0.7l-1,4.4c-0.7-0.2-1.4-0.4-2.2-0.6
                              c-0.8-0.2-1.7-0.3-2.6-0.3c-1.8,0-2.7,0.5-2.7,1.5c0,0.2,0,0.4,0.1,0.6c0.1,0.2,0.2,0.4,0.5,0.5c0.2,0.2,0.5,0.3,0.9,0.5
                              c0.4,0.2,0.9,0.4,1.5,0.6c1.3,0.5,2.3,0.9,3.1,1.4c0.8,0.4,1.5,0.9,1.9,1.5s0.8,1.1,1,1.7c0.2,0.6,0.3,1.4,0.3,2.2
                              c0,2-0.7,3.5-2.2,4.5c-1.5,1-3.6,1.5-6.3,1.5c-1.8,0-3.3-0.2-4.5-0.5c-1.2-0.3-2-0.6-2.5-0.8l1-4.6c1,0.4,2,0.7,3,0.9
                              c1,0.2,2,0.3,3,0.3C148.3,46.1,149.1,46,149.5,45.8z"/>
                          </g>
                          <g>
                            <path class="st1" d="M159.2,35.6c0.5-1.3,1.3-2.5,2.2-3.4c0.9-0.9,1.9-1.6,3.1-2c1.2-0.5,2.4-0.7,3.6-0.7c2.9,0,5.1,0.9,6.8,2.6
                              c1.7,1.7,2.5,4.3,2.5,7.7c0,0.3,0,0.7,0,1.1c0,0.4-0.1,0.7-0.1,1.1h-12.9c0.1,1.2,0.7,2.1,1.6,2.8c1,0.7,2.3,1,3.9,1
                              c1,0,2.1-0.1,3.1-0.3c1-0.2,1.8-0.4,2.5-0.7l0.8,4.6c-0.3,0.2-0.7,0.3-1.2,0.5c-0.5,0.2-1.1,0.3-1.7,0.4c-0.6,0.1-1.3,0.2-2,0.3
                              c-0.7,0.1-1.4,0.1-2.1,0.1c-1.8,0-3.4-0.3-4.7-0.8c-1.3-0.5-2.5-1.3-3.3-2.2c-0.9-0.9-1.5-2-2-3.3c-0.4-1.3-0.6-2.7-0.6-4.1
                              C158.3,38.5,158.6,36.9,159.2,35.6z M171.5,36.6c-0.1-0.5-0.4-0.9-0.7-1.2c-0.3-0.4-0.7-0.7-1.1-0.9c-0.4-0.2-1-0.3-1.7-0.3
                              c-0.6,0-1.2,0.1-1.6,0.3c-0.5,0.2-0.8,0.5-1.1,0.9c-0.3,0.4-0.5,0.8-0.7,1.2c-0.2,0.5-0.3,1-0.4,1.4h7.5
                              C171.7,37.6,171.6,37.1,171.5,36.6z"/>
                          </g>
                          <g>
                            <path class="st1" d="M191.2,34.7c-0.7-0.1-1.4-0.2-2.2-0.2c-0.4,0-0.8,0-1.3,0.1c-0.5,0.1-0.9,0.1-1.1,0.2v15.4h-5.7V31.1
                              c1-0.4,2.2-0.7,3.6-1c1.4-0.3,2.9-0.5,4.7-0.5c0.3,0,0.7,0,1.1,0.1c0.4,0,0.9,0.1,1.3,0.2c0.4,0.1,0.9,0.1,1.3,0.2
                              c0.4,0.1,0.8,0.2,1.1,0.3l-1,4.7C192.5,35,191.9,34.8,191.2,34.7z"/>
                          </g>
                        </g>
                      </g>
        </svg>
        <hr>


        <div id="statusField" style="height:100px;">
            <div id="checkOk" style="display:true;">
                <div style="margin:10px 0px;">The Logfile was found</div>
                <svg x='0' y='0' width='80' height='80' style='margin:5px;'><g transform='scale(0.6)'><circle fill="#3c753a" cx="64" cy="64" r="64"/><path fill="#424242" d="M54.3,97.2L24.8,67.7c-0.4-0.4-0.4-1,0-1.4l8.5-8.5c0.4-0.4,1-0.4,1.4,0L55,78.1l38.2-38.2   c0.4-0.4,1-0.4,1.4,0l8.5,8.5c0.4,0.4,0.4,1,0,1.4L55.7,97.2C55.3,97.6,54.7,97.6,54.3,97.2z"/></g></svg>
            </div>
            <span id="checkPending" style="display:none;">
                    <div style="margin-top:20px"> ... try to find your Minecraft-Logfile</div>

(SPINNER)
                    <!-- <svg style='margin: 10px' x='0' y='0' width='150' height='150'> 
                            <style type="text/css">
                                .st0{fill:none;}
                                .st1{fill-rule:evenodd;clip-rule:evenodd;fill:#FFFFFF;}
                                .st2{fill:#FFFFFF;}
                                .st3{fill:none;stroke:#6C6C6C;stroke-miterlimit:10;}
                            </style>
                            <rect x='0' y='0' width='150' height='150' fill='green'>
                            <g id="spinner" transform="scale(0.1)">
                                
                                    <polygon class="st0" points="55.5,134.2 2.9,102 2.9,40 55.5,72.2 "/>
                                    <polygon class="st0" points="73.3,134.8 125.9,102.6 125.9,40.6 73.3,72.8 "/>
                                    <polygon class="st0" points="74.2,2.5 74.2,27.1 54.3,27.1 54.3,2.7 9.4,27.1 64.4,57.1 119.4,27.1 "/>
                                    
                            </g>
                            
                        </svg> -->

            </span>
            <span id="checkFailed" style="display:none;"></span>
        </div>
        <div id="statusResponse" style="margin-top:25px;height:100px;">
            <div id="statusResponseContentOk" style="display:true;">
                <div>Annilyser located your Minecraft Logfile here:</div>
                <div id="pathline" style="padding:10px; margin:10px;width:'100%'; background-color: #535353;align:center;font-style: italic"> XXXXXXX </div>
            </div>
            <div id="statusResponseContentFail" style="display:none;">
                Annilyser can't find your MC Logfile<br> Try again with autodetection or locate it manually
            </div>
            <div id="statusResponseContentPending" style="display:none;">

            </div>
        </div>
        <div>
            <button class="button notsomainbutton ">Please Autodetect the Log</button>
            <label class="button notsomainbutton " for="loglocation">Let me locate the Log</label>
            <input type="file" name="logpath" id="loglocation" onchange="logPathUser(this);" />
        </div>
        <hr>
        <button id="startbutton" class="button mainbuttondis" disabled="true" type="button" onclick="alert('You pressed the button!')">Shut up and start Annilyser</button>
    </div>

    DEBUG:
    <a href="#" onclick="setPending();">setPending</a>
    <a href="#" onclick="setOk('path-asdfasdfasdfasdf');">setOk</a>
    <a href="#" onclick="setFail();">setFail</a>


</body>
<script src="../js/d3.v5.min.js"></script>
<script>
    const url = "";

    var data = {};

    setPending();

    function logPathUser(path) {

        // alert(path);
        console.log(path);

    }

    function setPending() {
        d3.select("#checkPending").attr('style', 'display:true;')
        d3.select("#checkOk").attr('style', 'display:none;')
        d3.select("#checkFailed").attr('style', 'display:none;')
        d3.select("#statusResponseContentOk").attr('style', 'display:none;')
        d3.select("#statusResponseContentFail").attr('style', 'display:none;')
        d3.select("#statusResponseContentPending").attr('style', 'display:true;')
        d3.select("#startbutton").classed('mainbuttondis', true).classed('mainbutton', false).attr('disabled', false)
    }

    function setOk(path) {
        d3.select("#checkPending").attr('style', 'display:none;')
        d3.select("#checkOk").attr('style', 'display:true;')
        d3.select("#checkFailed").attr('style', 'display:none;')
        d3.select("#statusResponseContentFail").attr('style', 'display:none;')
        d3.select("#statusResponseContentPending").attr('style', 'display:none;')
        d3.select("#statusResponseContentOk").attr('style', 'display:true;')
        d3.select("#statusResponseContentOk").attr('style', 'display:true;')
        d3.select("#pathline").html(path)
        d3.select("#startbutton").classed('mainbuttondis', false).classed('mainbutton', true).attr('disabled', false)
    }

    function setFail() {
        d3.select("#checkPending").attr('style', 'display:none;')
        d3.select("#checkOk").attr('style', 'display:none;')
        d3.select("#checkFailed").attr('style', 'display:true;')
        d3.select("#statusResponseContentFail").attr('style', 'display:true;')
        d3.select("#statusResponseContentPending").attr('style', 'display:none;')
        d3.select("#statusResponseContentOk").attr('style', 'display:none;')
        d3.select("#statusResponseContentOk").attr('style', 'display:none;')
        d3.select("#startbutton").classed('mainbuttondis', true).classed('mainbutton', false).attr('disabled', false)
    }



    var getJson = (geturl) => {

        fetch(geturl)
            .then(
                function(response) {
                    if (response.status !== 200) {
                        console.log('Looks like there was a problem. Status Code: ' + response.status);
                        return;
                    }

                    response.json().then(function(data) {
                        update(data);
                    });
                }
            )
            .catch(function(err) {
                console.log('Fetch Error :-S', err);
            });
    }


    function update(data) {

        console.log(data);
        // document.getElementById("output").innerHTML = JSON.stringify(data);

        if (+data.statusStartButton === 1) {
            d3.select("#startbutton")
                .classed('mainbuttondis', false)
                .classed('mainbuttond', true)
                .attr('disabled', false)
        }
        if (+data.statusStartButton === 0) {
            d3.select("#startbutton")
                .classed('mainbuttondis', true)
                .classed('mainbuttond', false)
                .attr('disabled', true)
        }
        if (+data.statusUpdatePathstring === 1) {
            d3.select("#pathline").html(data.path)
        }
        if (+data.statusUpdatePathstring === 0) {
            d3.select("#pathline").html('Nowhere! Are you sure you have Minecraft?')
        }




    }
</script>

</html>